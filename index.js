import{A as O}from"./assets/vendor-Cb7VvBBu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("Header script initialized");const e=document.getElementById("burger"),t=document.getElementById("mobileMenu"),n=document.getElementById("closeMenu"),s=document.getElementById("logo"),o=document.body,c=document.getElementById("loader"),i=document.getElementById("notification"),l=(r=!0)=>{e.classList.toggle("active",r),t.classList.toggle("active",r),o.classList.toggle("menu-open",r)};e==null||e.addEventListener("click",()=>l(!0)),n==null||n.addEventListener("click",()=>l(!1)),t==null||t.addEventListener("click",r=>{r.target===t&&l(!1)}),document.addEventListener("keydown",r=>{r.key==="Escape"&&(t!=null&&t.classList.contains("active"))&&l(!1)}),document.querySelectorAll(".mobile-nav-link, .mobile-cta-button").forEach(r=>{r.addEventListener("click",()=>l(!1))}),document.querySelectorAll('a[href^="#"]').forEach(r=>{r.addEventListener("click",d=>{d.preventDefault();const C=r.getAttribute("href").substring(1),y=document.getElementById(C);y==null||y.scrollIntoView({behavior:"smooth",block:"start"})})}),s==null||s.addEventListener("click",r=>{r.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});const x=()=>c&&(c.style.display="flex"),w=()=>c&&(c.style.display="none");w();const b=(r,d="error")=>{i&&(i.textContent=r,i.className=`notification ${d} show`,setTimeout(()=>i.classList.remove("show"),4e3))},P=async r=>{x();try{if(await new Promise(d=>setTimeout(d,1500)),Math.random()>.2)b(`Каталог "${r}" успішно завантажено!`,"success");else throw new Error}catch{b("Виникла помилка при завантаженні. Спробуйте пізніше.")}finally{w()}};document.querySelectorAll("a, button").forEach(r=>{r.style.cursor="pointer"}),window.devicePixelRatio>1&&console.log("Retina display detected - loading high-res images"),window.loadFurniture=P});const q=document.querySelectorAll(".furniture-item");q.forEach(e=>{e.addEventListener("click",()=>{q.forEach(t=>t.classList.remove("active")),e.classList.add("active")})});const I="https://furniture-store.b.goit.study/api",v=document.getElementById("categoryList"),p=document.getElementById("productsList"),a=document.getElementById("loadMoreBtn");let m="all",u=1,g=8,A=0,h=!1;async function S(e){const t=await fetch(e);if(!t.ok)throw new Error(`${t.status} ${t.statusText}`);return t.json()}const L={categories:()=>S(`${I}/categories`),furnitures:(e={})=>{const t=new URLSearchParams({page:e.page??1,limit:e.limit??g});return e.category&&e.category!=="all"&&t.set("category",e.category),S(`${I}/furnitures?${t.toString()}`)}};async function T(){const e=await L.categories(),t=new Map(e.map(n=>[n.name.trim(),n._id]));v.querySelectorAll(".furniture-item").forEach(n=>{var o;const s=(o=n.querySelector(".furniture-text"))==null?void 0:o.textContent.trim();n.dataset.cat=s==="Всі товари"?"all":t.get(s)||""})}function _(){p.innerHTML=""}function $(e){const t=e.map(n=>{var i;const s=n.title||n.name||"Без назви",o=n.image||n.img||((i=n.images)==null?void 0:i[0])||"",c=n.price!=null?`${n.price} грн`:"";return`<li class="product-card">
      ${o?`<img src="${o}" alt="${s}">`:""}
      <h3 class="gallery-title">${s}</h3>${c?`<p class="gallery-text">${c}</p>`:""}
      <button class="details-btn">Детальніше</button>
    </li>`}).join("");p.insertAdjacentHTML("beforeend",t)}function k(e){const t=p.querySelector(".product-card").length,n=e<g||t>=A;a.hidden=n,a.disabled=n}async function B(){u=1;const e=await L.furnitures({page:u,limit:g,category:m});A=e.totalItems??e.total??e.furnitures.length,_(),$(e.furnitures),k(e.furnitures.length)}async function N(){if(h)return;h=!0,a.disabled=!0,u+=1;const e=await L.furnitures({page:u,limit:g,category:m});$(e.furnitures),k(e.furnitures.length),h=!1,a.hidden||(a.disabled=!1)}v.addEventListener("click",async e=>{const t=e.target.closest(".furniture-item");if(!t)return;const n=t.dataset.cat||"all";n!==m&&(m=n,u=1,v.querySelectorAll(".furniture-item").forEach(s=>s.classList.remove("active")),t.classList.add("active"),await B())});a.addEventListener("click",N);(async function(){await T(),await B()})();const D=[{question:"Як здійснюється доставка меблів?",answer:"Ми доставляємо замовлення по всій Україні через надійні служби. Термін доставки зазвичай складає 3-7 днів залежно від регіону."},{question:"Чи є можливість вибрати колір або матеріал?",answer:"Так, у багатьох моделях доступні варіанти оббивки та кольорів. Усі доступні опції вказані на сторінці товару."},{question:"Чи можна повернути товар, якщо він не підійшов?",answer:"Так, ви можете повернути товар протягом 14 днів, якщо він не був у користуванні та збережений у первинному вигляді."},{question:"Чи надаєте ви послугу збирання меблів?",answer:"Так, під час оформлення замовлення можна обрати послугу збирання. Наші майстри зберуть меблі у зручний для вас час."},{question:"Як здійснити оплату?",answer:"Ми приймаємо оплату карткою онлайн, банківським переказом або післяплатою при отриманні."}],F=document.getElementById("faq-list");D.forEach(e=>{F.innerHTML+=`
    <article class="ac">
      <h3 class="ac-header">
        <button type="button" class="ac-trigger">${e.question}</button>
      </h3>
      <div class="ac-panel">
        <p class="ac-text">${e.answer}</p>
      </div>
    </article>
  `});const H=new O(".accordion-container",{duration:500,showMultiple:!1});document.addEventListener("click",e=>{document.querySelector(".accordion-container").contains(e.target)||document.querySelectorAll(".accordion-container .ac.is-active").forEach((s,o)=>{const i=Array.from(document.querySelectorAll(".accordion-container .ac")).indexOf(s);i!==-1&&H.close(i)})});const f=document.getElementById("modal"),M=document.querySelector(".open-modal-btn"),j=document.querySelector(".modal__close"),R=document.querySelector(".modal__overlay"),z=document.querySelector(".modal__content");M.addEventListener("click",()=>{f.classList.add("active"),f.setAttribute("aria-hidden","false"),z.focus()});j.addEventListener("click",E);R.addEventListener("click",E);document.addEventListener("keydown",e=>{e.key==="Escape"&&f.classList.contains("active")&&E()});function E(){f.classList.remove("active"),f.setAttribute("aria-hidden","true"),M.focus()}
//# sourceMappingURL=index.js.map

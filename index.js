import{A as x}from"./assets/vendor-Cb7VvBBu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("Header script initialized");const e=document.getElementById("burger"),t=document.getElementById("mobileMenu"),n=document.getElementById("closeMenu"),i=document.getElementById("logo"),o=document.body,r=document.getElementById("loader"),s=document.getElementById("notification"),l=(c=!0)=>{e.classList.toggle("active",c),t.classList.toggle("active",c),o.classList.toggle("menu-open",c)};e==null||e.addEventListener("click",()=>l(!0)),n==null||n.addEventListener("click",()=>l(!1)),t==null||t.addEventListener("click",c=>{c.target===t&&l(!1)}),document.addEventListener("keydown",c=>{c.key==="Escape"&&(t!=null&&t.classList.contains("active"))&&l(!1)}),document.querySelectorAll(".mobile-nav-link, .mobile-cta-button").forEach(c=>{c.addEventListener("click",()=>l(!1))}),document.querySelectorAll('a[href^="#"]').forEach(c=>{c.addEventListener("click",d=>{d.preventDefault();const B=c.getAttribute("href").substring(1),g=document.getElementById(B);g==null||g.scrollIntoView({behavior:"smooth",block:"start"})})}),i==null||i.addEventListener("click",c=>{c.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});const A=()=>r&&(r.style.display="flex"),w=()=>r&&(r.style.display="none");w();const v=(c,d="error")=>{s&&(s.textContent=c,s.className=`notification ${d} show`,setTimeout(()=>s.classList.remove("show"),4e3))},M=async c=>{A();try{if(await new Promise(d=>setTimeout(d,1500)),Math.random()>.2)v(`Каталог "${c}" успішно завантажено!`,"success");else throw new Error}catch{v("Виникла помилка при завантаженні. Спробуйте пізніше.")}finally{w()}};document.querySelectorAll("a, button").forEach(c=>{c.style.cursor="pointer"}),window.devicePixelRatio>1&&console.log("Retina display detected - loading high-res images"),window.loadFurniture=M});const E=document.querySelectorAll(".furniture-item");E.forEach(e=>{e.addEventListener("click",()=>{E.forEach(t=>t.classList.remove("active")),e.classList.add("active")})});const L="https://furniture-store.b.goit.study/api",y=document.getElementById("categoryList"),h=document.getElementById("productsList"),a=document.getElementById("loadMoreBtn");let f="all",u=1,m=8,q=0;async function b(e){const t=await fetch(e);if(!t.ok)throw new Error(`${t.status} ${t.statusText}`);return t.json()}const p={categories:()=>b(`${L}/categories`),furnitures:(e={})=>{const t=new URLSearchParams({page:e.page??1,limit:e.limit??m});return e.category&&e.category!=="all"&&t.set("category",e.category),b(`${L}/furnitures?${t.toString()}`)}};async function k(){const e=await p.categories(),t=new Map(e.map(n=>[n.name.trim(),n._id]));y.querySelectorAll(".furniture-item").forEach(n=>{var o;const i=(o=n.querySelector(".furniture-text"))==null?void 0:o.textContent.trim();n.dataset.cat=i==="Всі товари"?"all":t.get(i)||""})}function P(){h.innerHTML=""}function I(e){const t=e.map(n=>{var s;const i=n.title||n.name||"Без назви",o=n.image||n.img||((s=n.images)==null?void 0:s[0])||"",r=n.price!=null?`${n.price} грн`:"";return`<li class="product-card">
      ${o?`<img src="${o}" alt="${i}">`:""}
      <h3 class="gallery-title">${i}</h3>${r?`<p class="gallery-text">${r}</p>`:""}
      <button class="details-btn">Детальніше</button>
    </li>`}).join("");h.insertAdjacentHTML("beforeend",t)}function S(e){const t=h.querySelector(".product-card").length,n=e<m||t>=q;a.hidden=n,a.disabled=n}async function $(){u=1;const e=await p.furnitures({page:u,limit:m,category:f});q=e.totalItems??e.total??e.furnitures.length,P(),I(e.furnitures),S(e.furnitures.length)}async function O(){if(loadingMore)return;loadingMore=!0,a.disabled=!0,u+=1;const e=await p.furnitures({page:u,limit:m,category:f});I(e.furnitures),S(e.furnitures.length),loadingMore=!1,a.hidden||(a.disabled=!1)}y.addEventListener("click",async e=>{const t=e.target.closest(".furniture-item");if(!t)return;const n=t.dataset.cat||"all";n!==f&&(f=n,u=1,y.querySelectorAll(".furniture-item").forEach(i=>i.classList.remove("active")),t.classList.add("active"),await $())});a.addEventListener("click",O);(async function(){await k(),await $()})();const C=[{question:"Як здійснюється доставка меблів?",answer:"Ми доставляємо замовлення по всій Україні через надійні служби. Термін доставки зазвичай складає 3-7 днів залежно від регіону."},{question:"Чи є можливість вибрати колір або матеріал?",answer:"Так, у багатьох моделях доступні варіанти оббивки та кольорів. Усі доступні опції вказані на сторінці товару."},{question:"Чи можна повернути товар, якщо він не підійшов?",answer:"Так, ви можете повернути товар протягом 14 днів, якщо він не був у користуванні та збережений у первинному вигляді."},{question:"Чи надаєте ви послугу збирання меблів?",answer:"Так, під час оформлення замовлення можна обрати послугу збирання. Наші майстри зберуть меблі у зручний для вас час."},{question:"Як здійснити оплату?",answer:"Ми приймаємо оплату карткою онлайн, банківським переказом або післяплатою при отриманні."}],T=document.getElementById("faq-list");C.forEach(e=>{T.innerHTML+=`
    <article class="ac">
      <h3 class="ac-header">
        <button type="button" class="ac-trigger">${e.question}</button>
      </h3>
      <div class="ac-panel">
        <p class="ac-text">${e.answer}</p>
      </div>
    </article>
  `});const N=new x(".accordion-container",{duration:500,showMultiple:!1});document.addEventListener("click",e=>{document.querySelector(".accordion-container").contains(e.target)||document.querySelectorAll(".accordion-container .ac.is-active").forEach((i,o)=>{const s=Array.from(document.querySelectorAll(".accordion-container .ac")).indexOf(i);s!==-1&&N.close(s)})});
//# sourceMappingURL=index.js.map

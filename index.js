import{A as k}from"./assets/vendor-Cb7VvBBu.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("Header script initialized");const t=document.getElementById("burger"),e=document.getElementById("mobileMenu"),n=document.getElementById("closeMenu"),i=document.getElementById("logo"),o=document.body,r=document.getElementById("loader"),s=document.getElementById("notification"),l=(c=!0)=>{t.classList.toggle("active",c),e.classList.toggle("active",c),o.classList.toggle("menu-open",c)};t==null||t.addEventListener("click",()=>l(!0)),n==null||n.addEventListener("click",()=>l(!1)),e==null||e.addEventListener("click",c=>{c.target===e&&l(!1)}),document.addEventListener("keydown",c=>{c.key==="Escape"&&(e!=null&&e.classList.contains("active"))&&l(!1)}),document.querySelectorAll(".mobile-nav-link, .mobile-cta-button").forEach(c=>{c.addEventListener("click",()=>l(!1))}),document.querySelectorAll('a[href^="#"]').forEach(c=>{c.addEventListener("click",d=>{d.preventDefault();const x=c.getAttribute("href").substring(1),g=document.getElementById(x);g==null||g.scrollIntoView({behavior:"smooth",block:"start"})})}),i==null||i.addEventListener("click",c=>{c.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});const B=()=>r&&(r.style.display="flex"),v=()=>r&&(r.style.display="none");v();const E=(c,d="error")=>{s&&(s.textContent=c,s.className=`notification ${d} show`,setTimeout(()=>s.classList.remove("show"),4e3))},M=async c=>{B();try{if(await new Promise(d=>setTimeout(d,1500)),Math.random()>.2)E(`Каталог "${c}" успішно завантажено!`,"success");else throw new Error}catch{E("Виникла помилка при завантаженні. Спробуйте пізніше.")}finally{v()}};document.querySelectorAll("a, button").forEach(c=>{c.style.cursor="pointer"}),window.devicePixelRatio>1&&console.log("Retina display detected - loading high-res images"),window.loadFurniture=M});const L=document.querySelectorAll(".furniture-item");L.forEach(t=>{t.addEventListener("click",()=>{L.forEach(e=>e.classList.remove("active")),t.classList.add("active")})});const b="https://furniture-store.b.goit.study/api",h=document.getElementById("categoryList"),p=document.getElementById("productsList"),a=document.getElementById("loadMoreBtn");let f="all",u=1,m=8,I=0,y=!1;async function q(t){const e=await fetch(t);if(!e.ok)throw new Error(`${e.status} ${e.statusText}`);return e.json()}const w={categories:()=>q(`${b}/categories`),furnitures:(t={})=>{const e=new URLSearchParams({page:t.page??1,limit:t.limit??m});return t.category&&t.category!=="all"&&e.set("category",t.category),q(`${b}/furnitures?${e.toString()}`)}};async function P(){const t=await w.categories(),e=new Map(t.map(n=>[n.name.trim(),n._id]));h.querySelectorAll(".furniture-item").forEach(n=>{var o;const i=(o=n.querySelector(".furniture-text"))==null?void 0:o.textContent.trim();n.dataset.cat=i==="Всі товари"?"all":e.get(i)||""})}function O(){p.innerHTML=""}function S(t){const e=t.map(n=>{var s;const i=n.title||n.name||"Без назви",o=n.image||n.img||((s=n.images)==null?void 0:s[0])||"",r=n.price!=null?`${n.price} грн`:"";return`<li class="product-card">
      ${o?`<img src="${o}" alt="${i}">`:""}
      <h3 class="gallery-title">${i}</h3>${r?`<p class="gallery-text">${r}</p>`:""}
      <button class="details-btn">Детальніше</button>
    </li>`}).join("");p.insertAdjacentHTML("beforeend",e)}function $(t){const e=p.querySelector(".product-card").length,n=t<m||e>=I;a.hidden=n,a.disabled=n}async function A(){u=1;const t=await w.furnitures({page:u,limit:m,category:f});I=t.totalItems??t.total??t.furnitures.length,O(),S(t.furnitures),$(t.furnitures.length)}async function C(){if(y)return;y=!0,a.disabled=!0,u+=1;const t=await w.furnitures({page:u,limit:m,category:f});S(t.furnitures),$(t.furnitures.length),y=!1,a.hidden||(a.disabled=!1)}h.addEventListener("click",async t=>{const e=t.target.closest(".furniture-item");if(!e)return;const n=e.dataset.cat||"all";n!==f&&(f=n,u=1,h.querySelectorAll(".furniture-item").forEach(i=>i.classList.remove("active")),e.classList.add("active"),await A())});a.addEventListener("click",C);(async function(){await P(),await A()})();const T=[{question:"Як здійснюється доставка меблів?",answer:"Ми доставляємо замовлення по всій Україні через надійні служби. Термін доставки зазвичай складає 3-7 днів залежно від регіону."},{question:"Чи є можливість вибрати колір або матеріал?",answer:"Так, у багатьох моделях доступні варіанти оббивки та кольорів. Усі доступні опції вказані на сторінці товару."},{question:"Чи можна повернути товар, якщо він не підійшов?",answer:"Так, ви можете повернути товар протягом 14 днів, якщо він не був у користуванні та збережений у первинному вигляді."},{question:"Чи надаєте ви послугу збирання меблів?",answer:"Так, під час оформлення замовлення можна обрати послугу збирання. Наші майстри зберуть меблі у зручний для вас час."},{question:"Як здійснити оплату?",answer:"Ми приймаємо оплату карткою онлайн, банківським переказом або післяплатою при отриманні."}],N=document.getElementById("faq-list");T.forEach(t=>{N.innerHTML+=`
    <article class="ac">
      <h3 class="ac-header">
        <button type="button" class="ac-trigger">${t.question}</button>
      </h3>
      <div class="ac-panel">
        <p class="ac-text">${t.answer}</p>
      </div>
    </article>
  `});const D=new k(".accordion-container",{duration:500,showMultiple:!1});document.addEventListener("click",t=>{document.querySelector(".accordion-container").contains(t.target)||document.querySelectorAll(".accordion-container .ac.is-active").forEach((i,o)=>{const s=Array.from(document.querySelectorAll(".accordion-container .ac")).indexOf(i);s!==-1&&D.close(s)})});
//# sourceMappingURL=index.js.map

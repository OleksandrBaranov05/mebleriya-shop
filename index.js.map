{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/furniture-list-collections.js","../src/js/furniture-list-item.js","../src/js/faq.js","../src/js/feedback.js","../src/js/footer.js","../src/js/furniture-modal.js","../src/js/order-modal.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  console.log('Header script initialized');\n\n  const burger = document.getElementById('burger');\n  const mobileMenu = document.getElementById('mobileMenu');\n  const closeMenuBtn = document.getElementById('closeMenu');\n  const logo = document.getElementById('logo');\n  const body = document.body;\n  const loader = document.getElementById('loader');\n  const notification = document.getElementById('notification');\n\n  let linkNodes = [];\n\n  const showLoader = () => loader && (loader.style.display = 'flex');\n  const hideLoader = () => loader && (loader.style.display = 'none');\n  hideLoader();\n\n  const showNotification = (message, type = 'error') => {\n    if (!notification) return;\n    notification.textContent = message;\n    notification.className = `notification ${type} show`;\n    setTimeout(() => notification.classList.remove('show'), 4000);\n  };\n\n  const loadFurniture = async category => {\n    showLoader();\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      if (Math.random() > 0.2) {\n        showNotification(`Каталог \"${category}\" успішно завантажено!`, 'success');\n      } else {\n        throw new Error();\n      }\n    } catch {\n      showNotification('Виникла помилка при завантаженні. Спробуйте пізніше.');\n    } finally {\n      hideLoader();\n    }\n  };\n\n  document.querySelectorAll('a, button').forEach(el => {\n    el.style.cursor = 'pointer';\n  });\n\n  if (window.devicePixelRatio > 1) {\n    console.log('Retina display detected - loading high-res images');\n  }\n\n  function defocusOnPointer(selector) {\n    document.querySelectorAll(selector).forEach(el => {\n      el.addEventListener('mouseup', () => el.blur());\n      el.addEventListener('mouseleave', () => el.blur());\n      el.addEventListener('touchend', () => el.blur(), { passive: true });\n    });\n  }\n  defocusOnPointer('.nav-link, .mobile-nav-link, .burger, .close-menu, .cta-button, .mobile-cta-button');\n\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', e => {\n      e.preventDefault();\n      const targetId = anchor.getAttribute('href').substring(1);\n      const targetElement = document.getElementById(targetId);\n      targetElement?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    });\n  });\n\n  logo?.addEventListener('click', e => {\n    e.preventDefault();\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n\n  const onMenuOverlayClick = e => {\n    if (e.target === mobileMenu) toggleMobileMenu(false);\n  };\n  const onMenuEsc = e => {\n    if (e.key === 'Escape') toggleMobileMenu(false);\n  };\n  const onMenuLinkClick = () => toggleMobileMenu(false);\n\n  function attachMenuListeners() {\n    if (!mobileMenu) return;\n    mobileMenu.addEventListener('click', onMenuOverlayClick);\n    document.addEventListener('keydown', onMenuEsc);\n\n    linkNodes = Array.from(document.querySelectorAll('.mobile-nav-link, .mobile-cta-button'));\n    linkNodes.forEach(n => n.addEventListener('click', onMenuLinkClick));\n  }\n\n  function detachMenuListeners() {\n    if (!mobileMenu) return;\n    mobileMenu.removeEventListener('click', onMenuOverlayClick);\n    document.removeEventListener('keydown', onMenuEsc);\n\n    if (linkNodes.length) {\n      linkNodes.forEach(n => n.removeEventListener('click', onMenuLinkClick));\n      linkNodes = [];\n    }\n  }\n\n  function toggleMobileMenu(open = true) {\n    burger?.classList.toggle('active', open);\n    mobileMenu?.classList.toggle('active', open);\n    body.classList.toggle('menu-open', open);\n\n    if (open) attachMenuListeners();\n    else detachMenuListeners();\n  }\n\n  burger?.addEventListener('click', () => toggleMobileMenu(true));\n  closeMenuBtn?.addEventListener('click', () => toggleMobileMenu(false));\n\n  window.loadFurniture = loadFurniture;\n});\n","document.addEventListener('DOMContentLoaded', () => {\n  const furnitureItems = document.querySelectorAll('.furniture-item');\n\n  function setDefaultActive() {\n    \n    let target =\n      document.querySelector('.furniture-item[data-cat=\"all\"]') ||\n   \n      document.querySelector('.furniture-item-all') ||\n    \n      Array.from(furnitureItems).find(\n        el => el.querySelector('.furniture-text')?.textContent.trim() === 'Всі товари'\n      ) ||\n    \n      furnitureItems[0];\n\n    if (target) {\n      furnitureItems.forEach(el => el.classList.remove('active'));\n      target.classList.add('active');\n    }\n  }\n\n  furnitureItems.forEach(item => {\n    item.addEventListener('click', () => {\n      furnitureItems.forEach(el => el.classList.remove('active'));\n      item.classList.add('active');\n    });\n  });\n\n  setDefaultActive();\n});\n","const BASE = 'https://furniture-store.b.goit.study/api';\nconst catsList = document.getElementById('categoryList');\nconst grid = document.getElementById('productsList');\nconst more = document.getElementById('loadMoreBtn');\nconst loader = document.querySelector('.loader');\n\nlet activeCat = 'all';\nlet page = 1;\nlet limit = 8;\nlet total = 0;\nlet loadingMore = false;\n\nfunction showLoader() { \n  loader.classList.remove('is-hidden'); \n}\nfunction hideLoader() { \n  loader.classList.add('is-hidden'); \n}\n\nasync function getJSON(url) {\n  const r = await fetch(url);\n  if (!r.ok) throw new Error(`${r.status} ${r.statusText}`);\n  return r.json();\n}\n\nconst api = {\n  categories: () => getJSON(`${BASE}/categories`),\n  furnitures: (p = {}) => {\n    const q = new URLSearchParams({\n      page: p.page ?? 1,\n      limit: p.limit ?? limit,\n    });\n    if (p.category && p.category !== 'all') q.set('category', p.category);\n    return getJSON(`${BASE}/furnitures?${q.toString()}`);\n  },\n};\n\nfunction getColors(p) {\n  const raw = Array.isArray(p?.colors || p?.colours) ? (p.colors || p.colours) : [];\n  const toCss = x =>\n    typeof x === 'string' ? x : (x && (x.hex ?? x.color ?? x.value ?? x.name)) || null;\n  const list = raw.map(toCss).filter(Boolean);\n  const safe = list.length ? list : ['#111111', '#c0c0c0', '#f5f5f5'];\n  return safe.slice(0, 3);\n}\n\nasync function initCategories() {\n  const cats = await api.categories();\n  const map = new Map(cats.map(c => [c.name.trim(), c._id]));\n  catsList.querySelectorAll('.furniture-item').forEach(li => {\n    const name = li.querySelector('.furniture-text')?.textContent.trim();\n    li.dataset.cat = name === 'Всі товари' ? 'all' : map.get(name) || '';\n  });\n}\n\nfunction clearProducts() {\n  grid.innerHTML = '';\n}\n\nfunction appendProducts(arr) {\n  window.__productsCache = window.__productsCache || new Map();\n  arr.forEach(p => window.__productsCache.set(p._id, p));\n\n  const html = arr.map(p => {\n    const title = p.title || p.name || 'Без назви';\n    const img = p.image || p.img || (p.images && p.images[0]) || '';\n    const price = p.price != null ? `${p.price} грн` : '';\n    const colors = getColors(p).slice(0, 3);\n\n    const colorsHTML = `\n      <ul class=\"card-colors\">\n        ${colors\n          .map(\n            c =>\n              `<li class=\"card-color\" title=\"${typeof c === 'string' ? c : 'Колір'}\" style=\"background:${c}\"></li>`\n          )\n          .join('')}\n      </ul>\n    `;\n\n    return `<li class=\"product-card\" data-id=\"${p._id}\">\n      ${img ? `<img class=\"product-card-img\" src=\"${img}\" alt=\"${title}\">` : ''}\n      <h3 class=\"gallery-title\">${title}</h3>\n      ${colorsHTML}\n      ${price ? `<p class=\"gallery-price\">${price}</p>` : ''}\n      <button class=\"details-btn\" data-id=\"${\n        p._id\n      }\" type=\"button\">Детальніше</button>\n    </li>`;\n  }).join('');\n\n  grid.insertAdjacentHTML('beforeend', html);\n}\n\n\nfunction updateMore(receivedCount) {\n  const shown = grid.querySelectorAll('.product-card').length;\n  const finished = receivedCount < limit || shown >= total;\n  more.hidden = finished;\n  more.disabled = finished;\n}\n\nasync function loadFirstPage() {\n  showLoader();\n  page = 1;\n  try {\n    const data = await api.furnitures({ page, limit, category: activeCat });\n    total = data.totalItems ?? data.total ?? data.furnitures.length;\n    clearProducts();\n    appendProducts(data.furnitures);\n    updateMore(data.furnitures.length);\n  } finally {\n    hideLoader();\n  }\n}\n\nasync function loadMore() {\n  if (loadingMore) return;\n  loadingMore = true;\n  more.disabled = true;\n  showLoader();\n  page += 1;\n  try {\n    const data = await api.furnitures({ page, limit, category: activeCat });\n    appendProducts(data.furnitures);\n    updateMore(data.furnitures.length);\n  } finally {\n    hideLoader();\n    loadingMore = false;\n    if (!more.hidden) more.disabled = false;\n  }\n}\n\ncatsList.addEventListener('click', async e => {\n  const li = e.target.closest('.furniture-item');\n  if (!li) return;\n\n  const cat = li.dataset.cat || 'all';\n  if (cat === activeCat) return;\n\n  activeCat = cat;\n  page = 1;\n\n  catsList.querySelectorAll('.furniture-item').forEach(x => x.classList.remove('active'));\n  li.classList.add('active');\n\n  await loadFirstPage();\n});\n\nmore?.addEventListener('click', loadMore);\n\n(async function init() {\n  await initCategories();\n  await loadFirstPage();\n})();\n","import Accordion from \"accordion-js\";\nimport \"accordion-js/dist/accordion.min.css\";\nimport \"../css/faq.css\";\n\nconst faqData = [\n  {\n    question: \"Як здійснюється доставка меблів?\",\n    answer: \"Ми доставляємо замовлення по всій Україні через надійні служби. Термін доставки зазвичай складає 3-7 днів залежно від регіону.\"\n  },\n  {\n    question: \"Чи є можливість вибрати колір або матеріал?\",\n    answer: \"Так, у багатьох моделях доступні варіанти оббивки та кольорів. Усі доступні опції вказані на сторінці товару.\"\n  },\n  {\n    question: \"Чи можна повернути товар, якщо він не підійшов?\",\n    answer: \"Так, ви можете повернути товар протягом 14 днів, якщо він не був у користуванні та збережений у первинному вигляді.\"\n  },\n  {\n    question: \"Чи надаєте ви послугу збирання меблів?\",\n    answer: \"Так, під час оформлення замовлення можна обрати послугу збирання. Наші майстри зберуть меблі у зручний для вас час.\"\n  },\n  {\n    question: \"Як здійснити оплату?\",\n    answer: \"Ми приймаємо оплату карткою онлайн, банківським переказом або післяплатою при отриманні.\"\n  },\n];\n\nconst faqContainer = document.getElementById(\"faq-list\");\n\nfaqData.forEach(item => {\n  faqContainer.innerHTML += `\n    <article class=\"ac\">\n      <h3 class=\"ac-header\">\n        <button type=\"button\" class=\"ac-trigger\">${item.question}</button>\n      </h3>\n      <div class=\"ac-panel\">\n        <p class=\"ac-text\">${item.answer}</p>\n      </div>\n    </article>\n  `;\n});\n\n\nconst acc = new Accordion(\".accordion-container\", {\n  duration: 500,\n  showMultiple: false,\n});\n\ndocument.addEventListener(\"click\", (e) => {\n  const accordionContainer = document.querySelector(\".accordion-container\");\n\n  if (!accordionContainer.contains(e.target)) {\n    const activeItems = document.querySelectorAll(\".accordion-container .ac.is-active\");\n    activeItems.forEach((item, index) => {\n      const allItems = Array.from(document.querySelectorAll(\".accordion-container .ac\"));\n      const itemIndex = allItems.indexOf(item);\n      if (itemIndex !== -1) {\n        acc.close(itemIndex);\n      }\n    });\n  }\n});","import 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport '../css/feedback.css';\n\nimport { Swiper } from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\n\nconst BASE = 'https://furniture-store.b.goit.study/api';\n\nconst normalizeRating = r => {\n  const n = Number(r) || 0;\n  const half = Math.round(n * 2) / 2;\n  return Math.min(5, Math.max(0, half));\n};\n\nconst STAR_PATH =\n  'M9.5709 1.47649C9.91464 0.612003 11.0854 0.612004 11.4291 1.47649L13.4579 6.57884C13.6029 6.94328 13.9306 7.19229 14.3067 7.22384L19.5727 7.66545C20.4649 7.74027 20.8267 8.90496 20.1469 9.51407L16.1348 13.1091C15.8483 13.3659 15.723 13.7688 15.8106 14.1527L17.0364 19.528C17.244 20.4387 16.2969 21.1586 15.533 20.6706L11.0246 17.79C10.7025 17.5842 10.2975 17.5842 9.9755 17.79L5.467 20.6706C4.70312 21.1586 3.75596 20.4387 3.96364 19.528L5.18943 14.1527C5.27699 13.7688 5.15183 13.3659 4.86527 13.1091L0.853063 9.51407C0.173281 8.90496 0.535068 7.74027 1.42729 7.66545L6.69337 7.22384C7.06952 7.19229 7.39717 6.94328 7.54208 6.57884L9.5709 1.47649Z';\n\n\nfunction makeStarsSVG(\n  rating,\n  {\n    size = 21,\n    gap = 4,     \n    fill = '#080c09', \n    empty = '#ffffff',\n    stroke = '#080c09',\n    strokeWidth = 1.5,\n  } = {}\n) {\n  const full = Math.floor(rating);\n  const hasHalf = rating - full >= 0.5;\n  const totalWidth = size * 5 + gap * 4;\n  const uid = 'rate' + Math.random().toString(36).slice(2, 9);\n\n  const parts = [];\n  const defs = [];\n\n  for (let i = 0; i < 5; i++) {\n    const x = i * (size + gap);\n\n    if (i < full) {\n     \n      parts.push(\n        `<path d=\"${STAR_PATH}\" transform=\"translate(${x} 0)\" fill=\"${fill}\"/>`\n      );\n    } else if (i === full && hasHalf) {\n      \n      parts.push(\n        `<path d=\"${STAR_PATH}\" transform=\"translate(${x} 0)\" fill=\"${empty}\" stroke=\"${stroke}\" stroke-width=\"${strokeWidth}\" stroke-linejoin=\"round\"/>`\n      );\n  \n      const clipId = `${uid}-h${i}`;\n      defs.push(\n        `<clipPath id=\"${clipId}\"><rect x=\"0\" y=\"0\" width=\"${size / 2}\" height=\"${size}\"/></clipPath>`\n      );\n      parts.push(\n        `<g transform=\"translate(${x} 0)\" clip-path=\"url(#${clipId})\"><path d=\"${STAR_PATH}\" fill=\"${fill}\"/></g>`\n      );\n    } else {\n      parts.push(\n        `<path d=\"${STAR_PATH}\" transform=\"translate(${x} 0)\" fill=\"${empty}\" stroke=\"${stroke}\" stroke-width=\"${strokeWidth}\" stroke-linejoin=\"round\"/>`\n      );\n    }\n  }\n\n  return `\n    <svg class=\"rating-stars\" width=\"${totalWidth}\" height=\"${size}\" viewBox=\"0 0 ${totalWidth} ${size}\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\">\n      ${defs.length ? `<defs>${defs.join('')}</defs>` : ''}\n      ${parts.join('')}\n    </svg>\n  `;\n}\n\nconst slideTpl = item => {\n  const name = item.name || 'Анонім';\n  const text = item.descr || '';\n  const rating = normalizeRating(item.rate || 0);\n\n  return `\n    <div class=\"swiper-slide\">\n      <article class=\"feedback-card\">\n        <div class=\"feedback-card__stars\">\n          ${makeStarsSVG(rating)}\n        </div>\n        <p class=\"feedback-card__text\">“${text}”</p>\n        <p class=\"feedback-card__name\">${name}</p>\n      </article>\n    </div>\n  `;\n};\n\nasync function fetchFeedbacks() {\n  const res = await fetch(`${BASE}/feedbacks`);\n  if (!res.ok) throw new Error('Feedbacks fetch failed');\n  const data = await res.json();\n  return Array.isArray(data.feedbacks) ? data.feedbacks.slice(0, 10) : [];\n}\n\nfunction initSwiper() {\n  return new Swiper('.feedbacks-swiper', {\n    modules: [Navigation, Pagination],\n    speed: 400,\n    spaceBetween: 24,\n    slidesPerView: 1,\n    breakpoints: { 768: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } },\n    navigation: { prevEl: '#fbPrev', nextEl: '#fbNext', disabledClass: 'is-disabled' },\n    pagination: { el: '#fbPagination', clickable: true, dynamicBullets: true, dynamicMainBullets: 6 },\n  });\n}\n\nfunction defocusArrows() {\n  document.querySelectorAll('#fbPrev, #fbNext').forEach(btn => {\n    btn.addEventListener('mouseup', () => btn.blur());\n    btn.addEventListener('mouseleave', () => btn.blur());\n    btn.addEventListener('touchend', () => btn.blur(), { passive: true });\n  });\n}\n\nasync function initFeedback() {\n  const wrapper = document.querySelector('#feedbacksWrapper');\n  if (!wrapper) return;\n\n  try {\n    const items = await fetchFeedbacks();\n    wrapper.innerHTML = items.map(slideTpl).join('');\n    initSwiper();\n    defocusArrows();\n  } catch (e) {\n    console.error(e);\n    wrapper.innerHTML = '<div class=\"swiper-slide\"><p>Сталася помилка</p></div>';\n    initSwiper();\n    defocusArrows();\n  }\n}\n\nconst observer = new MutationObserver(() => {\n  if (document.querySelector('#feedbacksWrapper')) {\n    observer.disconnect();\n    initFeedback();\n  }\n});\nobserver.observe(document.body, { childList: true, subtree: true });\n","document.addEventListener('DOMContentLoaded', () => {\n  console.log('Footer script initialized');\n\n  document.querySelectorAll('.nav-footer a').forEach(link => {\n    link.addEventListener('click', function (e) {\n      e.preventDefault();\n      const targetId = this.getAttribute('href');\n      const targetElement = document.querySelector(targetId);\n      if (targetElement) {\n        targetElement.scrollIntoView({\n          behavior: 'smooth'\n        });\n      } else {\n        console.warn(`Элемент с id=\"${targetId}\" не найден на странице.`);\n      }\n    });\n  });\n\n  const copyright = document.querySelector('.copyright');\n  if (copyright) {\n    const currentYear = new Date().getFullYear();\n    copyright.innerHTML = `&copy; ${currentYear} Relume. Всі права захищені`;\n  }\n});\n","\n(function () {\n  const modal = document.getElementById('furnitureModal');\n  const mainImg = modal.querySelector('.furn-modal__main-img');\n  const thumbs = modal.querySelector('.furn-modal__thumbs');\n  const titleEl = modal.querySelector('.furn-modal__title');\n  const catEl = modal.querySelector('.furn-modal__category');\n  const priceEl = modal.querySelector('.furn-modal__price');\n  const rateEl = modal.querySelector('.furn-modal__rating');\n  const colorsForm = modal.querySelector('.furn-modal__colors');\n  const descEl = modal.querySelector('.furn-modal__desc');\n  const sizesEl = modal.querySelector('.furn-modal__sizes');\n  const orderBtn = modal.querySelector('.furn-modal__order');\n\n  let currentProduct = null;\n\n  const $ = (sel, ctx = document) => ctx.querySelector(sel);\n  const productsList = $('#productsList');\n\n  const clamp = (n, min, max) => Math.max(min, Math.min(max, n));\n\n  function getCategoryText(category) {\n    if (!category) return '';\n    if (typeof category === 'string') return category;\n    if (typeof category === 'object') {\n      return (\n        category.name ??\n        category.title ??\n        category.label ??\n        Object.values(category).find(v => typeof v === 'string') ??\n        ''\n      );\n    }\n    return '';\n  }\n\n  function getRating(p) {\n    const r = p.rating;\n    if (typeof r === 'number') return r;\n    if (r && typeof r === 'object') return r.value ?? r.rate ?? r.score ?? r.stars ?? 0;\n    if (typeof p.stars === 'number') return p.stars;\n    if (typeof p.score === 'number') return p.score;\n    if (typeof p.popularity === 'number') return Math.min(5, p.popularity);\n    return 4.8;\n  }\n\n  function getColors(p) {\n    const list = Array.isArray(p.colors || p.colours) ? (p.colors || p.colours) : [];\n    const toCss = x => typeof x === 'string' ? x : (x && (x.hex ?? x.color ?? x.value ?? x.name)) || null;\n    const out = list.map(toCss).filter(Boolean);\n    return out.length ? out : ['#111', '#c0c0c0', '#f5f5f5'];\n  }\n\n  function open() {\n    modal.hidden = false;\n    document.body.classList.add('no-scroll');\n    modal.querySelector('[data-close]').focus({ preventScroll: true });\n    window.addEventListener('keydown', onEsc);\n  }\n\n  function close() {\n    modal.hidden = true;\n    document.body.classList.remove('no-scroll');\n    window.removeEventListener('keydown', onEsc);\n  }\n\n  function onEsc(e) {\n    if (e.key === 'Escape') close();\n  }\n\n  modal.addEventListener('click', (e) => {\n    if (e.target === modal || e.target.closest('[data-close]')) close();\n  });\n\n  function getSelectedColor() {\n    const checked = colorsForm.querySelector('input[name=\"color\"]:checked');\n    return checked ? checked.value : null;\n  }\n\n  orderBtn.addEventListener('click', () => {\n    const detail = {\n      productId: currentProduct?._id,\n      title: titleEl.textContent,\n      color: getSelectedColor(),\n    };\n    close();\n    document.dispatchEvent(new CustomEvent('open-order-modal', { detail }));\n    if (typeof window.openOrderModal === 'function') window.openOrderModal(detail);\n  });\n\n  function render(product) {\n    currentProduct = product;\n\n    const title = product.title || product.name || 'Модель';\n    const categoryText = getCategoryText(product.category);\n    const price = product.price;\n    const rating = clamp(Number(getRating(product)) || 0, 0, 5);\n    const images = product.images?.length ? product.images : (product.image ? [product.image] : []);\n    const description = product.description || '';\n    const colors = getColors(product);\n    const size = product.size || product.sizes || product.dimensions || {};\n\n    titleEl.textContent = title;\n    catEl.textContent = categoryText;\n    priceEl.textContent = (price != null) ? `${price} грн` : '';\n    rateEl.style.setProperty('--value', rating);\n\n    const imgs = images.length ? images : [''];\n    mainImg.src = imgs[0] || '';\n    mainImg.alt = title;\n\n    const thumbImgs = imgs.slice(1, 3); \n    thumbs.innerHTML = thumbImgs.map((src, i) =>\n      `<li>\n         <button type=\"button\" aria-label=\"Зображення ${i + 2}\">\n           <img src=\"${src}\" alt=\"${title}\">\n         </button>\n       </li>`\n    ).join('');\n\n    thumbs.onclick = (e) => {\n      const btn = e.target.closest('button');\n      if (!btn) return;\n      const img = btn.querySelector('img');\n      if (!img) return;\n      mainImg.src = img.src;\n      thumbs.querySelectorAll('img').forEach(x => x.removeAttribute('aria-current'));\n      img.setAttribute('aria-current', 'true');\n    };\n\n    colorsForm.innerHTML = '';\n    colors.forEach((clr, idx) => {\n      const wrap = document.createElement('label');\n      wrap.className = 'furn-color';\n      wrap.style.background = clr;\n      wrap.title = typeof clr === 'string' ? clr : 'Колір';\n\n      const input = document.createElement('input');\n      input.type = 'checkbox';\n      input.name = 'color';\n      input.value = clr;\n      if (idx === 0) input.checked = true;\n\n      wrap.appendChild(input);\n      colorsForm.appendChild(wrap);\n    });\n    colorsForm.onchange = (e) => {\n      if (e.target.name !== 'color') return;\n      [...colorsForm.querySelectorAll('input[name=\"color\"]')].forEach(cb => {\n        if (cb !== e.target) cb.checked = false;\n      });\n    };\n\n    descEl.textContent = description;\n\n    sizesEl.innerHTML = '';\n    const s = (typeof size === 'object' && size) ? size : {};\n    const W = s.width || s.w || s.W;\n    const H = s.height || s.h || s.H;\n    const D = s.depth || s.length || s.d || s.L;\n    if (W && H && D) {\n      sizesEl.innerHTML = `<li>Розміри: ${W} x ${H} x ${D}</li>`;\n    } else {\n      const rows = [];\n      if (W) rows.push(`Ширина: ${W}`);\n      if (H) rows.push(`Висота: ${H}`);\n      if (D) rows.push(`Глибина: ${D}`);\n      const asString = typeof size === 'string' ? [size] : [];\n      sizesEl.innerHTML = [...rows, ...asString].map(v => `<li>${v}</li>`).join('');\n    }\n  }\n\n  productsList?.addEventListener('click', (e) => {\n    const btn = e.target.closest('.details-btn');\n    if (!btn) return;\n\n    const id = btn.dataset.id || btn.closest('.product-card')?.dataset.id;\n    const cache = (window.__productsCache instanceof Map) ? window.__productsCache : null;\n    const product = cache?.get(id);\n\n    if (!product) {\n      const card = btn.closest('.product-card');\n      const title = card?.querySelector('.gallery-title')?.textContent?.trim();\n      const img = card?.querySelector('img')?.src;\n      const price = card?.querySelector('.gallery-text')?.textContent?.trim();\n      render({ title, images: [img], price });\n    } else {\n      render(product);\n    }\n    open();\n  });\n})();\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst BASE = 'https://furniture-store.b.goit.study/api';\n\nconst modal = document.getElementById('modal');\nconst openBtn = document.querySelector('.open-modal-btn');\nconst closeBtn = modal?.querySelector('.modal__close');\nconst overlay = modal?.querySelector('.modal__overlay');\nconst modalContent = modal?.querySelector('.modal__content');\nconst form = modal?.querySelector('form');\n\nlet handlersAttached = false;\nlet orderContext = { modelId: null, color: null, title: '' };\n\nconst onCloseClick = () => closeModal();\nconst onOverlayClick = e => { if (e.target === overlay) closeModal(); };\nconst onEsc = e => { if (e.key === 'Escape' && modal?.classList.contains('active')) closeModal(); };\n\nconst onFormSubmit = async e => {\n  clearErrors();\n\n  let ok = true;\n  const nameEl  = form.querySelector('[name=\"name\"]'); \n  const emailEl = form.querySelector('[name=\"email\"]');\n  const phoneEl = form.querySelector('[name=\"phone\"]');\n  const commEl  = form.querySelector('[name=\"comment\"]');\n\n  if (nameEl && !minLen(nameEl.value, 2)) { ok = false; showError(nameEl, 'Вкажіть ім’я (мінімум 2 символи).'); }\n  if (!validateEmail(emailEl.value))      { ok = false; showError(emailEl, 'Некоректний email.'); }\n  if (!validatePhone(phoneEl.value))      { ok = false; showError(phoneEl, 'Некоректний телефон.'); }\n\n  if (!ok) {\n    e.preventDefault();\n    setStatus('Будь ласка, виправте помилки у формі.', 'error');\n    (form.querySelector('[aria-invalid=\"true\"]') || emailEl || phoneEl)?.focus();\n    return;\n  }\n\n  e.preventDefault();\n\n  const payload = {\n    email: emailEl.value.trim(),\n    phone: normalizePhone(phoneEl.value),\n    modelId: orderContext.modelId || undefined,\n    color: orderContext.color || undefined,\n    comment: (commEl?.value || '').trim(),\n  };\n\n  const submitBtn = form.querySelector('.modal__submit');\n  submitBtn.disabled = true;\n\n  try {\n    const res = await fetch(`${BASE}/orders`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    });\n\n    if (!res.ok) {\n      let msg = 'Помилка відправки. Спробуйте ще раз.';\n      try {\n        const data = await res.json();\n        if (data?.message) msg = data.message;\n      } catch {}\n      notify('error', msg);\n      submitBtn.disabled = false;\n      return;\n    }\n\n    notify('success', 'Заявку надіслано! Ми зв’яжемося з вами найближчим часом.');\n    form.reset();\n    setStatus('');\n    closeModal();\n\n  } catch (err) {\n    notify('error', 'Мережева помилка. Перевірте з’єднання і спробуйте пізніше.');\n    submitBtn.disabled = false;\n  }\n};\n\nfunction attachModalListeners() {\n  if (handlersAttached || !modal) return;\n  closeBtn?.addEventListener('click', onCloseClick);\n  overlay?.addEventListener('click', onOverlayClick);\n  document.addEventListener('keydown', onEsc);\n  form?.addEventListener('submit', onFormSubmit);\n  handlersAttached = true;\n}\n\nfunction detachModalListeners() {\n  if (!handlersAttached || !modal) return;\n  closeBtn?.removeEventListener('click', onCloseClick);\n  overlay?.removeEventListener('click', onOverlayClick);\n  document.removeEventListener('keydown', onEsc);\n  form?.removeEventListener('submit', onFormSubmit);\n  handlersAttached = false;\n}\n\nfunction openModal(detail) {\n  if (!modal) return;\n  modal.classList.add('active');\n  modal.setAttribute('aria-hidden', 'false');\n  document.body.classList.add('no-scroll');\n\n  if (detail) {\n    orderContext = {\n      modelId: detail.productId || detail.modelId || null,\n      color: detail.color || null,\n      title: detail.title || '',\n    };\n  }\n\n  attachModalListeners();\n  modalContent?.focus({ preventScroll: true });\n}\n\nfunction closeModal() {\n  if (!modal) return;\n  modal.classList.remove('active');\n  modal.setAttribute('aria-hidden', 'true');\n  document.body.classList.remove('no-scroll');\n\n  detachModalListeners();\n  openBtn?.focus({ preventScroll: true });\n}\n\nopenBtn?.addEventListener('click', () => openModal());\ndocument.addEventListener('open-order-modal', e => openModal(e.detail));\n\nfunction clearErrors() {\n  form?.querySelectorAll('.input-error').forEach(n => n.remove());\n  form?.querySelectorAll('[aria-invalid=\"true\"]').forEach(el => el.removeAttribute('aria-invalid'));\n  setStatus('');\n}\n\nfunction showError(input, message) {\n  input.setAttribute('aria-invalid', 'true');\n  const msg = document.createElement('div');\n  msg.className = 'input-error';\n  msg.textContent = message;\n  msg.style.cssText = 'margin-top:6px;color:#b00020;font:600 12px/1.2 Raleway, sans-serif;';\n  input.insertAdjacentElement('afterend', msg);\n}\n\nfunction setStatus(text, type = 'info') {\n  if (!form) return;\n  let box = form.querySelector('.form-status');\n  if (!box) {\n    box = document.createElement('div');\n    box.className = 'form-status';\n    const submit = form.querySelector('[type=\"submit\"]');\n    (submit ? submit.parentElement : form).appendChild(box);\n  }\n  box.textContent = text || '';\n  const color = type === 'error' ? '#b00020' : type === 'success' ? '#0e7a0d' : '#6c6f73';\n  box.style.cssText = text ? 'margin-top:12px;font:600 13px/1.3 Raleway, sans-serif;' : 'display:none;';\n  if (text) {\n    box.style.display = 'block';\n    box.style.color = color;\n  }\n}\n\nfunction validateEmail(v) {\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(v.trim());\n}\nfunction validatePhone(v) {\n  const d = v.replace(/\\D/g, '');\n  return d.length >= 10 && d.length <= 15;\n}\nfunction minLen(v, n) {\n  return v.trim().length >= n;\n}\nfunction normalizePhone(v) {\n\n  const d = v.replace(/\\D/g, '');\n  if (d.startsWith('380')) return d;\n  if (d.startsWith('0')) return `38${d}`;\n  return d;\n}\n\nfunction notify(type, message) {\n  const izi = window.iziToast;\n  if (!izi) {\n    console[type === 'error' ? 'error' : 'log'](message);\n    return;\n  }\n  if (type === 'error') {\n    izi.error({ title: 'Помилка', message, position: 'topRight' });\n  } else {\n    izi.success({ title: 'Готово', message, position: 'topRight' });\n  }\n}\n\nwindow.openOrderModal = d => openModal(d);\nwindow.closeOrderModal = closeModal;\nwindow.iziToast = iziToast;"],"names":["burger","mobileMenu","closeMenuBtn","logo","body","loader","notification","linkNodes","showLoader","hideLoader","showNotification","message","type","loadFurniture","category","resolve","el","defocusOnPointer","selector","anchor","e","targetId","targetElement","onMenuOverlayClick","toggleMobileMenu","onMenuEsc","onMenuLinkClick","attachMenuListeners","n","detachMenuListeners","open","furnitureItems","setDefaultActive","target","_a","item","BASE","catsList","grid","more","activeCat","page","limit","total","loadingMore","getJSON","url","r","api","p","q","getColors","raw","toCss","x","list","initCategories","cats","map","c","li","name","clearProducts","appendProducts","arr","html","title","img","price","colorsHTML","updateMore","receivedCount","shown","finished","loadFirstPage","data","loadMore","cat","faqData","faqContainer","acc","Accordion","index","itemIndex","normalizeRating","half","STAR_PATH","makeStarsSVG","rating","size","gap","fill","empty","stroke","strokeWidth","full","hasHalf","totalWidth","uid","parts","defs","i","clipId","slideTpl","text","fetchFeedbacks","res","initSwiper","Swiper","Navigation","Pagination","defocusArrows","btn","initFeedback","wrapper","items","observer","link","copyright","currentYear","modal","mainImg","thumbs","titleEl","catEl","priceEl","rateEl","colorsForm","descEl","sizesEl","orderBtn","currentProduct","productsList","sel","ctx","clamp","min","max","getCategoryText","v","getRating","out","onEsc","close","getSelectedColor","checked","detail","render","product","categoryText","images","description","colors","imgs","thumbImgs","src","clr","idx","wrap","input","cb","s","W","H","D","rows","asString","id","cache","card","_c","_b","_d","_f","_e","openBtn","closeBtn","overlay","modalContent","form","handlersAttached","orderContext","onCloseClick","closeModal","onOverlayClick","onFormSubmit","clearErrors","ok","nameEl","emailEl","phoneEl","commEl","minLen","showError","validateEmail","validatePhone","setStatus","payload","normalizePhone","submitBtn","msg","notify","attachModalListeners","detachModalListeners","openModal","box","submit","color","d","izi","iziToast"],"mappings":"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"}
{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/furniture-list-collections.js","../src/js/furniture-list-item.js","../src/js/faq.js","../src/js/order-modal.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  console.log('Header script initialized');\n\n  const burger = document.getElementById('burger');\n  const mobileMenu = document.getElementById('mobileMenu');\n  const closeMenuBtn = document.getElementById('closeMenu');\n  const logo = document.getElementById('logo');\n  const body = document.body;\n  const loader = document.getElementById('loader');\n  const notification = document.getElementById('notification');\n\n  // Mobile menu toggle\n  const toggleMobileMenu = (open = true) => {\n    burger.classList.toggle('active', open);\n    mobileMenu.classList.toggle('active', open);\n    body.classList.toggle('menu-open', open);\n  };\n\n  burger?.addEventListener('click', () => toggleMobileMenu(true));\n  closeMenuBtn?.addEventListener('click', () => toggleMobileMenu(false));\n\n  mobileMenu?.addEventListener('click', e => {\n    if (e.target === mobileMenu) toggleMobileMenu(false);\n  });\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && mobileMenu?.classList.contains('active')) {\n      toggleMobileMenu(false);\n    }\n  });\n\n  document\n    .querySelectorAll('.mobile-nav-link, .mobile-cta-button')\n    .forEach(link => {\n      link.addEventListener('click', () => toggleMobileMenu(false));\n    });\n\n  // Smooth scroll\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', e => {\n      e.preventDefault();\n      const targetId = anchor.getAttribute('href').substring(1);\n      const targetElement = document.getElementById(targetId);\n      targetElement?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    });\n  });\n\n  logo?.addEventListener('click', e => {\n    e.preventDefault();\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n\n  // Loader\n  const showLoader = () => loader && (loader.style.display = 'flex');\n  const hideLoader = () => loader && (loader.style.display = 'none');\n\n  hideLoader(); // Hide on page load\n\n  // Notification\n  const showNotification = (message, type = 'error') => {\n    if (!notification) return;\n    notification.textContent = message;\n    notification.className = `notification ${type} show`;\n    setTimeout(() => notification.classList.remove('show'), 4000);\n  };\n\n  const loadFurniture = async category => {\n    showLoader();\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      if (Math.random() > 0.2) {\n        showNotification(\n          `Каталог \"${category}\" успішно завантажено!`,\n          'success'\n        );\n      } else {\n        throw new Error();\n      }\n    } catch {\n      showNotification('Виникла помилка при завантаженні. Спробуйте пізніше.');\n    } finally {\n      hideLoader();\n    }\n  };\n\n  // 🟢 Cursor pointer for interactive elements\n  document.querySelectorAll('a, button').forEach(el => {\n    el.style.cursor = 'pointer';\n  });\n\n  // 🟢 Retina optimization\n  if (window.devicePixelRatio > 1) {\n    console.log('Retina display detected - loading high-res images');\n  }\n\n  // Optional: expose loadFurniture globally if needed\n  window.loadFurniture = loadFurniture;\n});","const furnitureItems = document.querySelectorAll('.furniture-item');\n\nfurnitureItems.forEach(item => {\n  item.addEventListener('click', () => {\n    furnitureItems.forEach(el => el.classList.remove('active'));\n    item.classList.add('active');\n  });\n});\n","const BASE = 'https://furniture-store.b.goit.study/api';\nconst catsList = document.getElementById('categoryList');\nconst grid = document.getElementById('productsList');\nconst more = document.getElementById('loadMoreBtn');\nlet activeCat = 'all';\nlet page = 1;\nlet limit = 8;\nlet total = 0;\nlet loadingMore = false;\nasync function getJSON(url) {\n  const r = await fetch(url);\n  if (!r.ok) throw new Error(`${r.status} ${r.statusText}`);\n  return r.json();\n}\nconst api = {\n  categories: () => getJSON(`${BASE}/categories`),\n  furnitures: (p = {}) => {\n    const q = new URLSearchParams({\n      page: p.page ?? 1,\n      limit: p.limit ?? limit,\n    });\n    if (p.category && p.category !== 'all') q.set('category', p.category);\n    return getJSON(`${BASE}/furnitures?${q.toString()}`);\n  },\n};\nasync function initCategories() {\n  const cats = await api.categories();\n  const map = new Map(cats.map(c => [c.name.trim(), c._id]));\n  catsList.querySelectorAll('.furniture-item').forEach(li => {\n    const name = li.querySelector('.furniture-text')?.textContent.trim();\n    li.dataset.cat = name === 'Всі товари' ? 'all' : map.get(name) || '';\n  });\n}\nfunction clearProducts() {\n  grid.innerHTML = '';\n}\nfunction appendProducts(arr) {\n  const html = arr\n    .map(p => {\n      const title = p.title || p.name || 'Без назви';\n      const img = p.image || p.img || p.images?.[0] || '';\n      const price = p.price != null ? `${p.price} грн` : '';\n      return `<li class=\"product-card\">\n      ${img ? `<img src=\"${img}\" alt=\"${title}\">` : ''}\n      <h3 class=\"gallery-title\">${title}</h3>${\n        price ? `<p class=\"gallery-text\">${price}</p>` : ''\n      }\n      <button class=\"details-btn\">Детальніше</button>\n    </li>`;\n    })\n    .join('');\n  grid.insertAdjacentHTML('beforeend', html);\n}\nfunction updateMore(receivedCount) {\n  const shown = grid.querySelector('.product-card').length;\n  const finished = receivedCount < limit || shown >= total;\n  more.hidden = finished;\n  more.disabled = finished;\n}\nasync function loadFirstPage() {\n  page = 1;\n  const data = await api.furnitures({ page, limit, category: activeCat });\n  total = data.totalItems ?? data.total ?? data.furnitures.length;\n  clearProducts();\n  appendProducts(data.furnitures);\n  updateMore(data.furnitures.length);\n}\nasync function loadMore() {\n  if (loadingMore) return;\n  loadingMore = true;\n  more.disabled = true;\n  page += 1;\n  const data = await api.furnitures({ page, limit, category: activeCat });\n  appendProducts(data.furnitures);\n  updateMore(data.furnitures.length);\n  loadingMore = false;\n  if (!more.hidden) more.disabled = false;\n}\ncatsList.addEventListener('click', async e => {\n  const li = e.target.closest('.furniture-item');\n  if (!li) return;\n  const cat = li.dataset.cat || 'all';\n  if (cat === activeCat) return;\n  activeCat = cat;\n  page = 1;\n  catsList\n    .querySelectorAll('.furniture-item')\n    .forEach(x => x.classList.remove('active'));\n  li.classList.add('active');\n  await loadFirstPage();\n});\nmore.addEventListener('click', loadMore);\n(async function init() {\n  await initCategories();\n  await loadFirstPage();\n})();","import Accordion from \"accordion-js\";\nimport \"accordion-js/dist/accordion.min.css\";\nimport \"../css/faq.css\";\n\nconst faqData = [\n  {\n    question: \"Як здійснюється доставка меблів?\",\n    answer: \"Ми доставляємо замовлення по всій Україні через надійні служби. Термін доставки зазвичай складає 3-7 днів залежно від регіону.\"\n  },\n  {\n    question: \"Чи є можливість вибрати колір або матеріал?\",\n    answer: \"Так, у багатьох моделях доступні варіанти оббивки та кольорів. Усі доступні опції вказані на сторінці товару.\"\n  },\n  {\n    question: \"Чи можна повернути товар, якщо він не підійшов?\",\n    answer: \"Так, ви можете повернути товар протягом 14 днів, якщо він не був у користуванні та збережений у первинному вигляді.\"\n  },\n  {\n    question: \"Чи надаєте ви послугу збирання меблів?\",\n    answer: \"Так, під час оформлення замовлення можна обрати послугу збирання. Наші майстри зберуть меблі у зручний для вас час.\"\n  },\n  {\n    question: \"Як здійснити оплату?\",\n    answer: \"Ми приймаємо оплату карткою онлайн, банківським переказом або післяплатою при отриманні.\"\n  },\n];\n\nconst faqContainer = document.getElementById(\"faq-list\");\n\nfaqData.forEach(item => {\n  faqContainer.innerHTML += `\n    <article class=\"ac\">\n      <h3 class=\"ac-header\">\n        <button type=\"button\" class=\"ac-trigger\">${item.question}</button>\n      </h3>\n      <div class=\"ac-panel\">\n        <p class=\"ac-text\">${item.answer}</p>\n      </div>\n    </article>\n  `;\n});\n\n\nconst acc = new Accordion(\".accordion-container\", {\n  duration: 500,\n  showMultiple: false,\n});\n\ndocument.addEventListener(\"click\", (e) => {\n  const accordionContainer = document.querySelector(\".accordion-container\");\n\n  if (!accordionContainer.contains(e.target)) {\n    const activeItems = document.querySelectorAll(\".accordion-container .ac.is-active\");\n    activeItems.forEach((item, index) => {\n      const allItems = Array.from(document.querySelectorAll(\".accordion-container .ac\"));\n      const itemIndex = allItems.indexOf(item);\n      if (itemIndex !== -1) {\n        acc.close(itemIndex);\n      }\n    });\n  }\n});","\nconst modal = document.getElementById('modal');\nconst openBtn = document.querySelector('.open-modal-btn');\nconst closeBtn = document.querySelector('.modal__close');\nconst overlay = document.querySelector('.modal__overlay');\nconst modalContent = document.querySelector('.modal__content');\n\nopenBtn.addEventListener('click', () => {\n  modal.classList.add('active');\n  modal.setAttribute('aria-hidden', 'false');\n  modalContent.focus();\n});\n\ncloseBtn.addEventListener('click', closeModal);\noverlay.addEventListener('click', closeModal);\n\ndocument.addEventListener('keydown', event => {\n  if (event.key === 'Escape' && modal.classList.contains('active')) {\n    closeModal();\n  }\n});\n\nfunction closeModal() {\n  modal.classList.remove('active');\n  modal.setAttribute('aria-hidden', 'true');\n  openBtn.focus();\n}\n"],"names":["burger","mobileMenu","closeMenuBtn","logo","body","loader","notification","toggleMobileMenu","open","e","link","anchor","targetId","targetElement","showLoader","hideLoader","showNotification","message","type","loadFurniture","category","resolve","el","furnitureItems","item","BASE","catsList","grid","more","activeCat","page","limit","total","loadingMore","getJSON","url","r","api","p","q","initCategories","cats","map","c","li","name","_a","clearProducts","appendProducts","arr","html","title","img","price","updateMore","receivedCount","shown","finished","loadFirstPage","data","loadMore","cat","x","faqData","faqContainer","acc","Accordion","index","itemIndex","modal","openBtn","closeBtn","overlay","modalContent","closeModal","event"],"mappings":"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"}